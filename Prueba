const [filteredRsocial, setFilteredRsocial] = useState([]);

// Inside handleModalChange
const handleModalChange = (event, field) => {
  const { value } = event.target;
  setModalValues((prevValues) => ({ ...prevValues, [field]: value }));

  if (field === "ID_Pais") {
    const filtered = rsocial.filter((item) => item.ID_Pais === parseInt(value));
    setFilteredRsocial(filtered);
  }
};

// Inside useEffect for initial data fetch
useEffect(() => {
  const fetchInitialData = async () => {
    try {
      const response = await axios.get(`http://localhost:3000/rsocial/`);
      setRsocial(response.data);
      if (modalValues.ID_Pais) {
        const filtered = response.data.filter((item) => item.ID_Pais === parseInt(modalValues.ID_Pais));
        setFilteredRsocial(filtered);
      }
    } catch (error) {
      console.error('Error al obtener la lista de razones sociales', error);
    }
  };

  fetchInitialData();
}, []);

// In the modal for Razon Social select
<select value={modalValues.ID_RSocial} onChange={(e) => handleModalChange(e, "ID_RSocial")}>
  {filteredRsocial.map((rsocial) => (
    <option key={rsocial.id} value={rsocial.id}>
      {rsocial.N_RSocial}
    </option>
  ))}
</select>